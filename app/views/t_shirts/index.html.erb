<div class="hero-section">
  <div>
    <h1>Discover Your Perfect T-Shirt</h1>
    <p>Unique designs, premium quality, and unbeatable comfort</p>
  </div>
</div>

<div>
  <%= form_with url: t_shirts_path, method: :get, local: true do |form| %>
    <div>
      <%= form.select :category_id, options_from_collection_for_select(@categories, :id, :name, params[:category_id]),
       { include_blank: 'All Categories' },
       { class: "form-control", onchange: "this.form.submit()" } %>
    </div>
  <% end %>

  <%= form_with url: t_shirts_path, method: :get, local: true do |form| %>
    <div>
      <%= form.select :color, options_for_select(TShirt.pluck(:color).uniq, params[:color]),
       { include_blank: 'All Colors' },
       { class: "form-control", onchange: "this.form.submit()" } %>
    </div>
  <% end %>

  <%= form_with url: t_shirts_path, method: :get, local: true do |form| %>
    <div>
      <%= form.select :sort_by, options_for_select(
        [
          ['Price: Low to High', 'price_asc'],
          ['Price: High to Low', 'price_desc'],
          ['Newest', 'newest'],
          ['Oldest', 'oldest']
        ],
        params[:sort_by]
      ),
       { include_blank: 'Sort by' },
       { class: "form-control", onchange: "this.form.submit()" } %>
    </div>
  <% end %>
</div>

<div>
  <div>
    <div class="t-shirts-grid">
      <% @t_shirts.each do |t_shirt| %>
        <% unless t_shirt.hidden %>
          <%= link_to t_shirt_path(t_shirt) do %>
            <div class="t-shirt-card">

              <div class="t-shirt-image">
                <%= image_tag t_shirt.image_url, alt: t_shirt.name %>
              </div>
              
              <div class="t-shirt-info">
                <h3 class="t-shirt-name"><%= t_shirt.name %></h3>
                
                <div>
                  <% if t_shirt.category.present? %>
                    <span class="t-shirt-category"><%= t_shirt.category.name %></span>
                  <% end %>
                </div>
                
                <div class="t-shirt-price">
                  <%= number_to_currency(t_shirt.price) %>
                </div>

                <div>
                  <%= button_to "Add to Cart", cart_items_path(t_shirt_id: t_shirt), method: :post %>
                </div>

              </div>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
